<div class="container" style="width: 100%; margin: 0 auto; ">
    <%- include('./partials/form', { action: '/add-user', buttonLabel: 'Add User' }) %>

    <div class="usertop">
        <button id="add-user-btn">Add a new user</button>
    </div>

    <div style="width: 100%; overflow-x: auto; margin-top: 10px">
        <table class="tableUser">
            <thead>
                <tr style="background-color: #2f3136; color: #ffffff; text-align: center;">
                    <th style="padding: 5px; font-weight: 400; font-size: 12px;">Method</th>
                    <th style="padding: 5px; font-weight: 400; font-size: 12px;">Name</th>
                    <th style="padding: 5px; font-weight: 400; font-size: 12px;">Email</th>
                    <th style="padding: 5px; font-weight: 400; font-size: 12px;">Admin</th>
                    <th style="padding: 5px; font-weight: 400; font-size: 12px;">Expire</th>
                    <th style="padding: 5px; font-weight: 400; font-size: 12px;">Enabled</th>
                    <th style="padding: 5px; font-weight: 400; font-size: 12px;">Servers</th>
                    <th style="padding: 5px; font-weight: 400; font-size: 12px;">2Fa</th>
                    <th style="padding: 5px; font-weight: 400; font-size: 12px;">Actions</th>
                </tr>
            </thead>
            <tbody>
                <% users.forEach(user => { %>
                    <tr style="color: #dddddd; border-bottom: 1px solid #2f3136; text-align: center;">
                        <td class="tdusers">email</td>
                        <td class="tdusers"><%= user.name %></td>
                        <td class="tdusers"><%= user.email %></td>
                        <td class="tdusers">
                            <% if (user.admin) { %>
                                <i class="far fa-star" style="color: #87ff77;"></i>
                            <% } else { %>
                                <i class="fas fa-star" style="color: #ff7777;"></i>
                            <% } %>
                        </td>
                        <td class="tdusers">never</td>
                        <td class="tdusers">
                            <% if (user.verify === "1") { %>
                                <i class="fas fa-check-circle" style="color: #87ff77;"></i>
                            <% } else { %>
                                <i class="fas fa-times-circle" style="color: #ff7777;"></i>
                            <% } %>
                        </td>
                        <td class="tdusers"><%= user.serversCount %></td>
                        <td class="tdusers">
                            <% if (user.twofa === "1") { %>
                                <i class="fas fa-lock" style="color: #87ff77;"></i>
                            <% } else { %>
                                <i class="fas fa-unlock" style="color: #ff7777;"></i>
                            <% } %>
                        </td>
                        <td class="tdusers">
                            <button onclick="showEditForm('<%= user.id %>', '<%= user.name %>', '<%= user.email %>', '<%= user.verify %>')" style="background-color: #111217; color: #ffffff; border: none; padding: 3px 5px; border-radius: 4px; border: 1px solid #2f3136; font-size: 12px; cursor: pointer;">Edit</button>
                            <form action="/delete-user/<%= user.id %>" method="POST" style="display:inline;">
                                <button type="submit" style="background-color: #111217; color: #ffffff; border: none; padding: 3px 5px; border-radius: 4px; border: 1px solid #2f3136; font-size: 12px; cursor: pointer;">Delete</button>
                            </form>
                        </td>
                    </tr>
                <% }) %>
                <% usersOauth.forEach(user => { %>
                    <tr style="color: #dddddd; border-bottom: 1px solid #2f3136; text-align: center;">
                        <td class="tdusers"><%= user.oauth_provider %></td>
                        <td class="tdusers"><%= user.username %></td>
                        <td class="tdusers"><%= user.email || "-" %></td>
                        <td class="tdusers">
                            <% if (user.admin) { %>
                                <i class="far fa-star" style="color: #87ff77;"></i>
                            <% } else { %>
                                <i class="fas fa-star" style="color: #ff7777;"></i>
                            <% } %>
                        </td>
                        <td class="tdusers">never</td>
                        <td class="tdusers">
                            <% if (user.verify === "1") { %>
                                <i class="fas fa-check-circle" style="color: #87ff77;"></i>
                            <% } else { %>
                                <i class="fas fa-times-circle" style="color: #ff7777;"></i>
                            <% } %>
                        </td>
                        <td class="tdusers"><%= user.serversCount %></td>
                        <td class="tdusers">
                            <% if (user.twofa === "1") { %>
                                <i class="fas fa-lock" style="color: #87ff77;"></i>
                            <% } else { %>
                                <i class="fas fa-unlock" style="color: #ff7777;"></i>
                            <% } %>
                        </td>
                        <td class="tdusers">
                            <button onclick="showEditForm('<%= user.id %>', '<%= user.name %>', '<%= user.email %>', '<%= user.verify %>')" style="background-color: #111217; color: #ffffff; border: none; padding: 3px 5px; border-radius: 4px; border: 1px solid #2f3136; font-size: 12px; cursor: pointer;">Edit</button>
                            <form action="/delete-useroauth/<%= user.id %>" method="POST" style="display:inline;">
                                <button type="submit" style="background-color: #111217; color: #ffffff; border: none; padding: 3px 5px; border-radius: 4px; border: 1px solid #2f3136; font-size: 12px; cursor: pointer;">Delete</button>
                            </form>
                        </td>
                    </tr>
                <% }) %>
            </tbody>
        </table>
    </div>
</div>
