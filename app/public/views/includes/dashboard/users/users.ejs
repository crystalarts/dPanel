<div class="container" style="width: 100%; margin: 0 auto;">
    <%- include('./partials/form', { action: '/add-user', buttonLabel: 'Add User' }) %>

    <table style="width: 100%; border-collapse: collapse; background-color: #111217; overflow: hidden; border-top: 1px solid #2f3136; border-left: 1px solid #2f3136; border-right: 1px solid #2f3136;">
        <thead>
            <tr style="background-color: #2f3136; color: #ffffff; text-align: left;">
                <th style="padding: 5px; font-weight: 600;">User name</th>
                <th style="padding: 5px; font-weight: 600;">User email</th>
                <th style="padding: 5px; font-weight: 600; display: flex; flex-direction: row; justify-content: center; align-items: center;">Admin</th>
                <th style="padding: 5px; font-weight: 600;">Expire</th>
                <th style="padding: 5px; font-weight: 600; display: flex; flex-direction: row; justify-content: center; align-items: center;">Enabled</th>
                <th style="padding: 5px; font-weight: 600;">Servers</th>
                <th style="padding: 5px; font-weight: 600; display: flex; justify-content: center; align-items: center;">2Fa</th>
                <th style="padding: 5px; font-weight: 600;">Actions</th>
            </tr>
        </thead>
        <tbody>
            <% users.forEach(user => { %>
                <tr style="color: #dddddd; border-bottom: 1px solid #2f3136;">
                    <td style="padding: 5px;"><%= user.name %></td>
                    <td style="padding: 5px;"><%= user.email %></td>
                    <td style="padding: 5px; display: flex; justify-content: center; align-items: center;">
                        <% if (user.admin) { %>
                            <i class="far fa-star" style="color: #87ff77; font-size: 18px;"></i>
                        <% } else { %>
                            <i class="fas fa-star" style="color: #ff7777; font-size: 18px;"></i>
                        <% } %>
                    </td>
                    <td style="padding: 5px;">never</td>
                    <td style="padding: 5px; display: flex; justify-content: center; align-items: center;">
                        <% if (user.verify === "1") { %>
                            <i class="fas fa-check-circle" style="color: #87ff77;"></i>
                        <% } else { %>
                            <i class="fas fa-times-circle" style="color: #ff7777;"></i>
                        <% } %>
                    </td>
                    <td style="padding: 5px;"><%= user.serversCount %></td>
                    <td style="padding: 5px; display: flex; justify-content: center; align-items: center;">
                        <% if (user.twofa === "1") { %>
                            <i class="fas fa-lock" style="color: #87ff77; font-size: 18px;"></i>
                        <% } else { %>
                            <i class="fas fa-unlock" style="color: #ff7777; font-size: 18px;"></i>
                        <% } %>
                    </td>
                    <td style="padding: 5px;">
                        <form action="/delete-user/<%= user.id %>" method="POST" style="display:inline;">
                            <button type="submit" style="background-color: #111217; color: #ffffff; border: none; padding: 3px 5px; border-radius: 4px; border: 1px solid #2f3136; font-size: 12px; cursor: pointer;">Delete</button>
                        </form>
                        <button onclick="showEditForm('<%= user.id %>', '<%= user.name %>', '<%= user.email %>', '<%= user.verify %>')" style="background-color: #111217; color: #ffffff; border: none; padding: 3px 5px; border-radius: 4px; border: 1px solid #2f3136; font-size: 12px; cursor: pointer;">Edit</button>
                    </td>
                </tr>
            <% }) %>
        </tbody>
    </table>
</div>
